<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Create New Post</title>
    <link rel="stylesheet" href="/style.css" />
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body
    class="bg-gray-900 text-white font-sans min-h-screen flex flex-col items-center justify-start py-6 px-4 sm:px-6"
  >
    <!-- Header -->
    <header class="mb-6 w-full max-w-md text-center">
      <h1 class="text-2xl sm:text-3xl font-bold text-purple-400 mb-1">
        Create New Post âœ¨
      </h1>
      <p class="text-gray-400 text-sm sm:text-base">
        Fill in the details to share your moment
      </p>
    </header>

    <!-- Form Card -->
    <main
      class="w-full max-w-md bg-gray-800 rounded-xl shadow-lg p-4 sm:p-6 border border-gray-700"
    >
      <form
        action="/posts"
        method="post"
        class="flex flex-col gap-3 sm:gap-4"
        enctype="multipart/form-data"
      >
        <!-- User Name -->
        <label class="text-gray-300 font-medium text-sm sm:text-base"
          >User Name</label
        >
        <input
          type="text"
          name="user"
          placeholder="Enter user name"
          class="w-full px-3 py-2 sm:px-4 sm:py-2 rounded-lg bg-gray-700 border border-gray-600 focus:outline-none focus:ring-2 focus:ring-purple-400 text-sm sm:text-base"
          required
        />

        <!-- Image URL -->
        <label class="text-gray-300 font-medium text-sm sm:text-base"
          >Upload Image</label
        >
        <input
          type="file"
          name="imageFile"
          accept="image/*"
          onchange="previewImage(event)"
          class="w-full px-3 py-2 sm:px-4 sm:py-2 rounded-lg bg-gray-700 border border-gray-600 focus:outline-none focus:ring-2 focus:ring-purple-400 text-sm sm:text-base"
          required
        />
        <img
          id="imagePreview"
          class="max-h-52 sm:max-h-60 w-full object-cover rounded-lg mt-2 hidden"
        />

        <!-- Likes -->
        <label class="text-gray-300 font-medium text-sm sm:text-base"
          >Likes</label
        >
        <input
          type="number"
          name="likes"
          placeholder="Number of likes"
          class="w-full px-3 py-2 sm:px-4 sm:py-2 rounded-lg bg-gray-700 border border-gray-600 focus:outline-none focus:ring-2 focus:ring-purple-400 text-sm sm:text-base"
          value="0"
          required
        />

        <!-- Caption -->
        <label class="text-gray-300 font-medium text-sm sm:text-base"
          >Caption</label
        >
        <input
          type="text"
          name="caption"
          placeholder="Enter caption"
          class="w-full px-3 py-2 sm:px-4 sm:py-2 rounded-lg bg-gray-700 border border-gray-600 focus:outline-none focus:ring-2 focus:ring-purple-400 text-sm sm:text-base"
          required
        />

        <!-- Location -->
        <label class="text-gray-300 font-medium text-sm sm:text-base"
          >Location</label
        >
        <input
          type="text"
          name="location"
          placeholder="Enter location"
          class="w-full px-3 py-2 sm:px-4 sm:py-2 rounded-lg bg-gray-700 border border-gray-600 focus:outline-none focus:ring-2 focus:ring-purple-400 text-sm sm:text-base"
          required
        />

        <!-- Mood -->
        <label class="text-gray-300 font-medium text-sm sm:text-base"
          >Mood</label
        >
        <input
          type="text"
          name="mood"
          placeholder="How is mood?"
          class="w-full px-3 py-2 sm:px-4 sm:py-2 rounded-lg bg-gray-700 border border-gray-600 focus:outline-none focus:ring-2 focus:ring-purple-400 text-sm sm:text-base"
          required
        />

        <!-- Submit Button -->
        <button
          type="submit"
          class="mt-4 bg-purple-600 hover:bg-purple-700 text-white px-5 sm:px-6 py-2 rounded-full shadow-lg font-semibold text-sm sm:text-base transition"
        >
          Submit Post
        </button>
      </form>
    </main>

    <script>
      function previewImage(event) {
        const preview = document.getElementById("imagePreview");
        const file = event.target.files[0];
        if (file) {
          preview.src = URL.createObjectURL(file);
          preview.classList.remove("hidden");
        }
      }
    </script>
  </body>
</html>
